{"info":{"_postman_id":"category-history-controller-api","name":"Category History Controller API","description":"API for Category History listing and search.\n\n**Base URL:** `{{baseUrl}}/api/category-history`\n\n**Endpoints:**\n- POST /getCategoryHistory - List all category history with optional filters (no pagination)\n- POST /search - Search category history with pagination and filters\n\n**Auth:** Bearer token (set in collection or environment).","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{token}}","type":"string"}]},"variable":[{"key":"baseUrl","value":"http://localhost:8080","type":"string"}],"item":[{"name":"Get Category History","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"url":{"raw":"{{baseUrl}}/api/category-history/getCategoryHistory","host":["{{baseUrl}}"],"path":["api","category-history","getCategoryHistory"]},"description":"List all category history for the current client. Optional filters in body.\n\n**Request body:** categoryId, search (category name), dateFrom, dateTo. clientId is set by server from token.\n\n**Response:** ApiResponse with data = array of { id, categoryId, categoryName, oldTenKgPrice, newTenKgPrice, createdAt }."},"body":{"mode":"raw","raw":"{}\n"},"response":[{"name":"Success","status":"OK","code":200,"body":"{\n  \"success\": true,\n  \"message\": \"Category history retrieved successfully\",\n  \"data\": [\n    {\n      \"id\": 1,\n      \"categoryId\": 1,\n      \"categoryName\": \"Rice\",\n      \"oldTenKgPrice\": 1000,\n      \"newTenKgPrice\": 1200,\n      \"createdAt\": \"2024-01-01T00:00:00Z\"\n    }\n  ]\n}"}]},{"name":"Get Category History (filter by category)","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"url":{"raw":"{{baseUrl}}/api/category-history/getCategoryHistory","host":["{{baseUrl}}"],"path":["api","category-history","getCategoryHistory"]},"body":{"mode":"raw","raw":"{\n  \"categoryId\": 1\n}\n"},"response":[]},{"name":"Search Category History","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"url":{"raw":"{{baseUrl}}/api/category-history/search","host":["{{baseUrl}}"],"path":["api","category-history","search"]},"description":"Search category history with pagination and filters.\n\n**Request body:** categoryId, search, dateFrom, dateTo, page, size, sortBy (id|createdAt|categoryName|oldTenKgPrice|newTenKgPrice), sortDir (asc|desc).\n\n**Response:** ApiResponse with data = { content: [...], totalElements, totalPages }."},"body":{"mode":"raw","raw":"{\n  \"page\": 0,\n  \"size\": 10,\n  \"sortBy\": \"id\",\n  \"sortDir\": \"desc\"\n}\n"},"response":[{"name":"Success","status":"OK","code":200,"body":"{\n  \"success\": true,\n  \"message\": \"Category history retrieved successfully\",\n  \"data\": {\n    \"content\": [\n      {\n      \"id\": 1,\n      \"categoryId\": 1,\n      \"categoryName\": \"Rice\",\n      \"oldTenKgPrice\": 1000,\n      \"newTenKgPrice\": 1200,\n      \"createdAt\": \"2024-01-01T00:00:00Z\"\n      }\n    ],\n    \"totalElements\": 1,\n    \"totalPages\": 1\n  }\n}"}]},{"name":"Search Category History (by category name)","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"url":{"raw":"{{baseUrl}}/api/category-history/search","host":["{{baseUrl}}"],"path":["api","category-history","search"]},"body":{"mode":"raw","raw":"{\n  \"search\": \"rice\",\n  \"page\": 0,\n  \"size\": 5\n}\n"},"response":[]}]}
